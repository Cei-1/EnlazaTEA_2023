@{
    ViewBag.Title = "Perfil";
}

<style>
    .image-divider {
        background-image: url('@Url.Content("~/Content/Images/tea-2.jpeg")');
        background-size: cover;
        background-position: center;
        height: 250px;
        width: 100%;
    }
</style>

<div class="user-profile">
    <div class="header-image">
        <img src="~/Image/Usuario.png" alt="Imagen de cabecera" style="width:150px; height:150px;">
        <div class="d-flex justify-content-between align-items-center">
            <h4>@Model.Usuario.Nombre @Model.Usuario.ApellidoPaterno @Model.Usuario.ApellidoMaterno</h4>
            @if (Session["SessionRol"] != null && Session["SessionUsuario"] != null)
            {
                int rol_id = (int)Session["SessionRol"];
                if (rol_id == 1)
                {
                    <a href="@Url.Action("ActualizarEspecialista", "User")" class="btn btn-primary">Editar Perfil</a>
                }
                else if (rol_id == 2)
                {
                    <a href="@Url.Action("Agendar", "User", new { idEspecialista = Model.IdEspecialista })" class="btn btn-primary">Agendar</a>
                }
            }
        </div>
    </div>
    <hr />
    <div class="user-details">
        <div class="row text-center">
            <div class="col-md-4 profile-data-item">
                <h5>Carrera:</h5>
                <p>@Model.NombreCarrera</p>
            </div>
            @if (Model.Especialidad != null)
            {
                <div class="col-md-4 profile-data-item">
                    <h5>Especialidad:</h5>
                    <p>@Model.Especialidad</p>
                </div>
            }
            <div class="col-md-4 profile-data-item">
                <h5>Cédula:</h5>
                <p>@Model.NoCedula</p>
            </div>
        </div>
        <hr />
        <div class="row text-center">
            <div class="col-md-6 profile-data-item">
                <h5>Dirección:</h5>
                @{
                    string formattedAddress = $"{Model.Calle.ToLower()}, {Model.NumeroExterno.ToLower()}, {Model.NumeroInterno.ToLower()}, {Model.Colonia.ToLower()}, {Model.Ciudad.ToLower()}, {Model.Estado.ToLower()}, {Model.CodigoPostal}";
                    formattedAddress = System.Threading.Thread.CurrentThread.CurrentCulture.TextInfo.ToTitleCase(formattedAddress);
                }
                <p>@formattedAddress</p>
            </div>
            <div class="col-md-3 profile-data-item">
                <h5>Teléfono:</h5>
                <p>@Model.Telefono</p>
            </div>
            <div class="col-md-3 profile-data-item">
                <h5>Celular:</h5>
                <p>@Model.Celular</p>
            </div>
        </div>
        <div class="image-divider">
        </div>
    </div>
</div>
